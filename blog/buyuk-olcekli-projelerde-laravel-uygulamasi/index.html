<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<meta name="robots" content="index, follow">
<title>Büyük Ölçekli Projelerde Laravel Uygulaması</title>

<meta name="author" content="Eray Aydın">
<meta name="description" content="Scala Developer, Laravel Artisan, Free Software Fan, Archy, Linux Lover, WoW Loremaster, Junior Game Developer">
<link rel="canonical" href="https://era.yayd.in/blog/buyuk-olcekli-projelerde-laravel-uygulamasi/">
<link rel="shortcut icon" type="image/x-icon" href="https://era.yayd.in/favicon.png">

<meta property="og:type" content="website">
<meta property="og:url" content="https://era.yayd.in/blog/buyuk-olcekli-projelerde-laravel-uygulamasi/">
<meta property="og:site_name" content="Eray Aydın">
<meta property="og:title" content="Büyük Ölçekli Projelerde Laravel Uygulaması">
<meta property="og:description" content="Scala Developer, Laravel Artisan, Free Software Fan, Archy, Linux Lover, WoW Loremaster, Junior Game Developer">





<link rel="alternate" type="application/atom+xml" title="RSS" href="https://era.yayd.in/atom.xml"> 



<link rel="stylesheet" type="text/css" href="https://era.yayd.in/app.css"/>
<style></style>


</head>
<body>
      <header>
          <nav>
    
      <a href="/">
        &#x2F;home
      </a>
    
      <a href="/about/">
        &#x2F;about
      </a>
    
      <a href="/journal/">
        &#x2F;journal
      </a>
    
      <a href="/blog/" class="active">
        &#x2F;blog
      </a>
    
      <a href="https://github.com/erayaydin/erayaydin.github.io">
        &#x2F;download
      </a>
    
    <div>
      <input type="checkbox" id="themeToggle" style="display: none;">
      <label for="themeToggle"><svg id="themeIcon" class="icons"><use href="https://era.yayd.in/icons.svg#lightMode"></use></svg></label>
      <audio id="themeSound">
        <source src="https://era.yayd.in/click.ogg" type="audio/ogg">
      </audio>
    </div>
</nav>

      </header>
      <main>
          
<div>
    <a href="..">..</a>/<span class="accent-data">buyuk-olcekli-projelerde-laravel-uygulamasi</span>
</div>
<time datetime="2018-02-09T11:00:00">Published on: <span class="accent-data">2018-02-09T11:00:00</span></time>
<address rel="author">By <span class="accent-data">Eray Aydın</span></address>
<h1>Büyük Ölçekli Projelerde Laravel Uygulaması</h1>
<hr>
<h2 id="toc">Table of contents</h2>
<ul>
  
  <li>
    <a href="https://era.yayd.in/blog/buyuk-olcekli-projelerde-laravel-uygulamasi/#laravel-in-kendi-yapisi">Laravel’in Kendi Yapısı</a>
    
  </li>
  
  <li>
    <a href="https://era.yayd.in/blog/buyuk-olcekli-projelerde-laravel-uygulamasi/#biraz-daha-serbest">Biraz Daha Serbest</a>
    
  </li>
  
  <li>
    <a href="https://era.yayd.in/blog/buyuk-olcekli-projelerde-laravel-uygulamasi/#aklima-bir-seyler-geliyor-ama">Aklıma Bir Şeyler Geliyor Ama?</a>
    
  </li>
  
  <li>
    <a href="https://era.yayd.in/blog/buyuk-olcekli-projelerde-laravel-uygulamasi/#bir-secenek-daha-var-o-da-domain-driven-design-mi-dersin">Bir Seçenek Daha Var O da “Domain Driven Design” Mı Dersin?</a>
    
  </li>
  
  <li>
    <a href="https://era.yayd.in/blog/buyuk-olcekli-projelerde-laravel-uygulamasi/#sen-pala-vere-birak-sonuc-goster">Sen Pala Vere Bırak Sonuç Göster</a>
    
  </li>
  
  <li>
    <a href="https://era.yayd.in/blog/buyuk-olcekli-projelerde-laravel-uygulamasi/#bitis">Bitiş</a>
    
  </li>
  
</ul>
<hr>
<div class="page-content">
<p>Laravel Framework ile birçok proje geliştiriyoruz. Lakin büyük çaplı yani
kalabalık projelerde Laravel üzerine geliştirmeler yapılması oldukça zor.</p>
<p>Birçok kesimden şu sözü duymuşsunuzdur: “<strong>Laravel kendi yapınızı uygulamanıza
imkan vermiyor</strong>”. Lakin durum o şekilde değil. Tasarım desenleri ile
profesyonel bir sistem geliştirdiğinizde <strong>Laravel</strong>’in aksine daha büyük
imkan sağladığını görüyorsunuz. Diğer bir şekilde ifade etmek gerekirse,
<strong>spagetti</strong> kodlamayla zaten <strong>tasarım desenlerine sahip</strong> bir yapı üzerine
kendi yapınızı inşa etmek mümkün değil.</p>
<p>Lafı daha fazla uzatmadan konuya geçmek istiyorum yalnız şu hatırlatmayı
yapmamda yarar var. Burada bahsedilen <strong>büyük ölçek</strong> 60-70’ten fazla <em>model</em>
sınıflarının olması ve yapının bir çok küçük parçadan oluşmasıdır. Yaptığınız
proje eğer <strong>küçük</strong> veya <strong>orta</strong> ölçekli ise Laravel’in kendi yapısının
üzerine çıkmanıza gerek yok. Bu sizin <strong>üretkenliğinizi</strong> oldukça düşürecektir.</p>
<h1 id="laravel-in-kendi-yapisi"><a class="no-style" href="#laravel-in-kendi-yapisi" aria-label="Anchor link for: laravel-in-kendi-yapisi">#</a>
Laravel’in Kendi Yapısı</h1>
<p>Büyük ölçekli yapıda kullanabileceğimiz desenlere geçmeden önce Laravel’in
kendi yapısını tekrar gözden geçirelim. Aşağıdaki yapı <strong>Laravel 5.6</strong>
sürümünden. Bu yapı hakkında kafanıza takılan bir kısım yoksa diğer konu
başlığına hızlıca geçiş yapabilirsiniz.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#96b5b4;">.
</span><span style="color:#bf616a;">├──</span><span> app
</span><span style="color:#bf616a;">│</span><span>   ├── Broadcasting
</span><span style="color:#bf616a;">│</span><span>   ├── Console
</span><span style="color:#bf616a;">│</span><span>   ├── Events
</span><span style="color:#bf616a;">│</span><span>   ├── Exceptions
</span><span style="color:#bf616a;">│</span><span>   ├── Http
</span><span style="color:#bf616a;">│</span><span>   ├── Jobs
</span><span style="color:#bf616a;">│</span><span>   ├── Listeners
</span><span style="color:#bf616a;">│</span><span>   ├── Mail
</span><span style="color:#bf616a;">│</span><span>   ├── Notifications
</span><span style="color:#bf616a;">│</span><span>   ├── Policies
</span><span style="color:#bf616a;">│</span><span>   ├── Providers
</span><span style="color:#bf616a;">│</span><span>   ├── Rules
</span><span style="color:#bf616a;">│</span><span>   └── User.php
</span><span style="color:#bf616a;">├──</span><span> bootstrap
</span><span style="color:#bf616a;">│</span><span>   ├── app.php
</span><span style="color:#bf616a;">│</span><span>   └── cache
</span><span style="color:#bf616a;">├──</span><span> config
</span><span style="color:#bf616a;">├──</span><span> database
</span><span style="color:#bf616a;">│</span><span>   ├── factories
</span><span style="color:#bf616a;">│</span><span>   ├── migrations
</span><span style="color:#bf616a;">│</span><span>   └── seeds
</span><span style="color:#bf616a;">├──</span><span> public
</span><span style="color:#bf616a;">├──</span><span> resources
</span><span style="color:#bf616a;">│</span><span>   ├── assets
</span><span style="color:#bf616a;">│</span><span>   ├── lang
</span><span style="color:#bf616a;">│</span><span>   └── views
</span><span style="color:#bf616a;">├──</span><span> routes
</span><span style="color:#bf616a;">│</span><span>   ├── api.php
</span><span style="color:#bf616a;">│</span><span>   ├── channels.php
</span><span style="color:#bf616a;">│</span><span>   ├── console.php
</span><span style="color:#bf616a;">│</span><span>   └── web.php
</span><span style="color:#bf616a;">├──</span><span> storage
</span><span style="color:#bf616a;">├──</span><span> vendor 
</span><span style="color:#bf616a;">└──</span><span> tests
</span></code></pre>
<p><strong>/app Dizini</strong></p>
<p>Burada belirtilen <code>app</code> klasörü uygulama kodlarımızın bulunduğu dizindir.</p>
<p><strong>/bootstrap Dizini</strong></p>
<p>Çatımızın asıl başlangıç noktasıdır. Laravel Framework’ün kendi yapısını
başlattığı ve <em>cache</em> klasörünü oluşturduğu kısımdır.</p>
<p><strong>/config Dizini</strong></p>
<p>İsminden de anlaşıldığı gibi ayarların tutulduğu dizindir. Ayar bilgileri bu
dizindeki dosyalardan elde edilmektedir. Gizli(Secret) bilgileri de <code>dotenv</code>
aracılığıyla burada sisteme dahil edilmektedir.</p>
<p><strong>/database Dizini</strong></p>
<p>Veritabanı yapısı ile ilgili işlemlerin tutulduğu dizindir. <strong>migrations</strong>,
<strong>factories</strong> ve <strong>seeds</strong> burada bulunmaktadır.</p>
<p><strong>/public Dizini</strong></p>
<p>Dış isteklerin yapıldığı başlangıç noktasıdır. Ek olarak isteklerde servis
edilecek <strong>asset</strong> dosyaları (hazırlanmış <em>css</em>, <em>js</em>, <em>resim</em> dosyaları gibi)
burada tutuyoruz.</p>
<p><strong>/resources Dizini</strong></p>
<p><code>resources</code> dizini <strong>presentation</strong> yani ön tarafta kullanıcıya göstereceğimiz
verileri hazırladığımız kısımdır. <strong>views</strong>, <strong>derlenecek asset dosyaları</strong> ve
dil dosyaları örneğin burada tutulur.</p>
<p><strong>/routes Dizini</strong></p>
<p><code>routes</code> dizini içerisinde herhangi bir ortamdan gelen isteğin nerede
karşılık bulunduracağını belirtiriz. Burada ortamdan kasıt, <strong>web</strong> isteği
olabildiği gibi <strong>websocket</strong> istekleri de olabilir.</p>
<p><strong>/storage Dizini</strong></p>
<p><code>storage</code> dizini içerisinde isminden de anlaşılabildiği gibi saklamak
istediğimiz dosyaları tutmaktayız. Bunların içerisinde <strong>framework</strong> tarafından
hazırlanan dosyalar(örneğin <em>log</em>) olduğu gibi kendimizin de tutmak istediği
dosyalar(örneğin bir müzik sitesi için <em>müzik dosyaları</em>) da olabilir.</p>
<p><strong>/tests Dizini</strong></p>
<p>PHPUnit ile çalıştırmak istediğimiz testleri bu dizin içerisinde oluşturuyoruz.</p>
<p><strong>/vendor Dizini</strong></p>
<p>Composer bağımlılıklarımızın tutulduğu dizin.</p>
<p><strong>/app/Broadcasting Dizini</strong></p>
<p>Örneğin <strong>Websocket</strong> üzerinden yaptığımız gerçek zamanlı istekler/etkinlikler
burada kontrol altında tutulmaktadır.</p>
<p><strong>/app/Console Dizini</strong></p>
<p>Artisan için oluşturduğunuz komutların tutulduğu dizindir. Bu komutlar tek
seferlik işlemlerde kullanılabileceği gibi <strong>schedule</strong> hazırladığınız zamanlı
görevler de olabilir.</p>
<p><strong>/app/Events Dizini</strong></p>
<p>Herhangi bir olay durumunda yaptırmak istediğiniz işlemleri tanımladığınız
sınıfları tutan dizindir.</p>
<p><strong>/app/Exceptions Dizini</strong></p>
<p>Uygulamaya özel oluşturduğunuz hata sınıflarını oluşturduğunuz dizindir.</p>
<p><strong>/app/Http Dizini</strong></p>
<p>HTTP istekleriyle ilgili yapılması gerekenleri tutan dizindir. <strong>Controller</strong>,
<strong>Middleware</strong> ve <strong>Requests</strong> burada tutulur.</p>
<p><strong>/app/Jobs Dizini</strong></p>
<p>Senkron veya Asenkron olarak tanımladığımız <strong>iş</strong>leri burada tutmaktayız.</p>
<p><strong>/app/Listeners Dizini</strong></p>
<p>Oluşturduğunuz <strong>Event</strong>ler sonucunda yapılması gereken işlemleri burada
tanımlamaktasınız. Örneğin <code>UserLicenseFinished</code> etkinliği(event) sonucunda
<code>TerminateUser</code> ve <code>SendTerminatedUserEmail</code> listenerlarını burada
oluşturabilirsiniz.</p>
<p><strong>/app/Mail Dizini</strong></p>
<p>Uygulama tarafından gönderilecek e-postaları inşa edecek sınıfları bu dizinde
tutmaktayız.</p>
<p><strong>/app/Notifications Dizini</strong></p>
<p>Çeşitli bildirim gönderme ortamları(SMS, E-Posta ve Slack gibi) için
bildirimleri inşa ettiğimiz sınıfları oluşturduğumuz dizindir.</p>
<p><strong>/app/Policies Dizini</strong></p>
<p>Herhangi bir işlem için (Örneğin giriş veya api isteği) izin kontrol
sınıflarını oluşturduğunuz dizindir.</p>
<p><strong>/app/Providers Dizini</strong></p>
<p><strong>ServiceProvider</strong>ları tanımladığınız dizindir.</p>
<p><strong>/app/Rules Dizini</strong></p>
<p>Validate etmek istediğiniz veriler için oluşturduğunuz sınıfları tutan
dizindir.</p>
<h1 id="biraz-daha-serbest"><a class="no-style" href="#biraz-daha-serbest" aria-label="Anchor link for: biraz-daha-serbest">#</a>
Biraz Daha Serbest</h1>
<p>Orta ölçekli bir projede bu yapının üzerine ufak değişiklikler elbetteki
yapıyoruz. Örneğin <strong>Models</strong> isminde bir <strong>namespace</strong> üzerinde model
sınıfları ayrı bir şekilde tutuyoruz. Ek olarak <strong>Repositories</strong> ve
<strong>Services</strong> de ekliyoruz.</p>
<p><strong>Repository Pattern</strong></p>
<p>Repository desenini tek bir makalede incelemek haksızlık olacaktır. Temel
anlamda <strong>veri üzerinde işlem yapan kısım</strong> ile <strong>veriye erişen kısmın</strong>
ayrılması diyebiliriz.</p>
<p>Buradaki <strong>Services</strong> kısmı ise <strong>Repository</strong> ile haberleşen kısmın da
<strong>uygulama katmanından</strong> ayıran kısımdır. Bir örnek ile ilerlemek daha iyi
olacaktır.</p>
<pre data-lang="php" style="background-color:#2b303b;color:#c0c5ce;" class="language-php "><code class="language-php" data-lang="php"><span>namespace App/Repositories;
</span><span>
</span><span>interface UserInterface {
</span><span>  public function getUserById($userId);
</span><span>
</span><span>  public function getUserByUsername($username);
</span><span>}
</span></code></pre>
<pre data-lang="php" style="background-color:#2b303b;color:#c0c5ce;" class="language-php "><code class="language-php" data-lang="php"><span>namespace App/Repositories;
</span><span>
</span><span>class UserRepository implements UserInterface {
</span><span>  protected $model;
</span><span>
</span><span>  public function __construct(Model $model) {
</span><span>    $this-&gt;model = $model;
</span><span>  }
</span><span>
</span><span>  public function getUserById($userId) {
</span><span>    return $this-&gt;model-&gt;find($userId);
</span><span>  }
</span><span>  
</span><span>  public function getUserByUsername($username) {
</span><span>    return $this-&gt;model-&gt;where(&#39;username&#39;, strtolower($username))-&gt;first();
</span><span>  }
</span><span>}
</span></code></pre>
<pre data-lang="php" style="background-color:#2b303b;color:#c0c5ce;" class="language-php "><code class="language-php" data-lang="php"><span>namespace App/Services;
</span><span>
</span><span>class UserService {
</span><span>  protected $repository;
</span><span>
</span><span>  public function __construct(UserInterface $repository){
</span><span>    $this-&gt;repository = $repository;
</span><span>  }
</span><span>
</span><span>  public function getUser($user) {
</span><span>    if(is_numeric($user))
</span><span>       return $this-&gt;repository-&gt;getUserById($user);
</span><span>    else
</span><span>       return $this-&gt;repository-&gt;getUserByUsername($user); 
</span><span>  }
</span><span>}
</span></code></pre>
<p>Bu örnek yapıda <strong>Service</strong> ve <strong>Repository</strong> kullanmış olduk. (Yapının
çalışması için iki yapı için de <strong>ServiceProvider</strong> sınıflarını hazırlamanız
gerekmektedir.)</p>
<p>Bu yapıda hiçbir sorun yok. Oldukça organize ve güzel bir yapı çıkmış oluyor.
Lakin belirttiğim gibi <strong>orta</strong> ölçekli proje için uygun olacaktır. <strong>Büyük</strong>
ölçekli projede bu yapı hayat kurtarmayacaktır.</p>
<p>Örneğin bu yapının sonunda <strong>Models</strong> dizinimize bakalım:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#96b5b4;">.
</span><span style="color:#bf616a;">├──</span><span> AklimaBaskaModelGelmedi.php
</span><span style="color:#bf616a;">├──</span><span> AnotherAnotherModel.php
</span><span style="color:#bf616a;">├──</span><span> AnotherModel.php
</span><span style="color:#bf616a;">├──</span><span> Comment.php
</span><span style="color:#bf616a;">├──</span><span> Gallery.php
</span><span style="color:#bf616a;">├──</span><span> Like.php
</span><span style="color:#bf616a;">├──</span><span> Note.php
</span><span style="color:#bf616a;">├──</span><span> Photo.php
</span><span style="color:#bf616a;">├──</span><span> Profile.php
</span><span style="color:#bf616a;">├──</span><span> Transaction.php
</span><span style="color:#bf616a;">└──</span><span> User.php
</span></code></pre>
<p>Uygulamamız üzerine eklediğimiz modüllerle bu Models dizini oldukça
büyüyecektir. Bir alternatif olarak bu modülleri ayrı <strong>namespace</strong> üzerinde
tutabilirsiniz. Lakin bir süre sonra bu da kurtarmayacaktır.</p>
<h1 id="aklima-bir-seyler-geliyor-ama"><a class="no-style" href="#aklima-bir-seyler-geliyor-ama" aria-label="Anchor link for: aklima-bir-seyler-geliyor-ama">#</a>
Aklıma Bir Şeyler Geliyor Ama?</h1>
<p>Bu aşamada aklınıza gelen yol büyük ihtimal, “<strong>Hadi o zaman projeyi
microservislere ayıralım</strong>” olacaktır. Lakin bu iş o kadar kolay değil.
Oluşturduğumuz büyük ölçekli yapıyı küçük küçük parçalara ayırmak oldukça
zahmetli olacaktır. Temel olarak uygulayacağınız yol şu olur büyük ihtimal;
Bir parçayı al ufak bir mikroservis uygulaması haline getir (apayrı bir proje
olmuş oldu) ve uygulama üzerindeki projede gelen isteği bu mikroservise
yönlendir. Bütün bu uğraş sonucunda da kazandığınız (!) sorunlar:</p>
<ul>
<li>Herhangi bir değişiklikte hata yapmanız muhtemel</li>
<li>Yeni bir geliştirici anlamakta çok fazla zorlanacak ve ayrı ayrı parçalara
bakmak zorunda kalacak.</li>
<li>Çok fazla dosya</li>
<li>Yeniden bir çözüm arayışı</li>
</ul>
<h1 id="bir-secenek-daha-var-o-da-domain-driven-design-mi-dersin"><a class="no-style" href="#bir-secenek-daha-var-o-da-domain-driven-design-mi-dersin" aria-label="Anchor link for: bir-secenek-daha-var-o-da-domain-driven-design-mi-dersin">#</a>
Bir Seçenek Daha Var O da “Domain Driven Design” Mı Dersin?</h1>
<p>Elbette tek bir çözüm yolu yok. Yukarda bahsettiğim yapıları daha da
geliştirebilir veya <strong>HMVC</strong> yapısına geçiş yapabilirsiniz. Her desenin
<strong>+</strong> ve <strong>-</strong> leri var.</p>
<p>DDD’yi özetlemek gerekirse:</p>
<ul>
<li><strong>Application</strong> yani uygulama: Controller, Middleware, Route</li>
<li><strong>Domain</strong> yani ana işi yapan işlev: Model, Repository, Policy vs.</li>
<li><strong>Infrastructure</strong> yani servisler: Email, Notification, Logging vs.</li>
<li><strong>Interface</strong> yani görünüş, gözüken kısım: Views, Lang, Assets nam-ı diğer
Resources</li>
</ul>
<p>Peki bu yapıda örnek Laravel dizini nasıl olabilir:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#96b5b4;">.
</span><span style="color:#bf616a;">├──</span><span> app 
</span><span style="color:#bf616a;">│</span><span>   ├── Account (Domain)
</span><span style="color:#bf616a;">│</span><span>   │   ├── AccessControlLists.php
</span><span style="color:#bf616a;">│</span><span>   │   ├── Auth.php
</span><span style="color:#bf616a;">│</span><span>   │   ├── Console
</span><span style="color:#bf616a;">│</span><span>   │   ├── Jobs
</span><span style="color:#bf616a;">│</span><span>   │   ├── Listeners
</span><span style="color:#bf616a;">│</span><span>   │   ├── Repositories
</span><span style="color:#bf616a;">│</span><span>   │   ├── Models
</span><span style="color:#bf616a;">│</span><span>   │   └── Validators
</span><span style="color:#bf616a;">│</span><span>   ├── Http (Application)
</span><span style="color:#bf616a;">│</span><span>   ├── Infrastructure
</span><span style="color:#bf616a;">│</span><span>   │   ├── Events
</span><span style="color:#bf616a;">│</span><span>   │   └── Exceptions
</span><span style="color:#bf616a;">│</span><span>   ├── Gallery (Domain)
</span><span style="color:#bf616a;">│</span><span>   └── Post (Domain)
</span><span style="color:#bf616a;">├──</span><span> bootstrap
</span><span style="color:#bf616a;">│</span><span>   ├── app.php
</span><span style="color:#bf616a;">│</span><span>   └── cache
</span><span style="color:#bf616a;">├──</span><span> config
</span><span style="color:#bf616a;">├──</span><span> database
</span><span style="color:#bf616a;">│</span><span>   ├── factories
</span><span style="color:#bf616a;">│</span><span>   ├── migrations
</span><span style="color:#bf616a;">│</span><span>   └── seeds
</span><span style="color:#bf616a;">├──</span><span> public
</span><span style="color:#bf616a;">├──</span><span> resources (Interface) 
</span><span style="color:#bf616a;">│</span><span>   ├── assets
</span><span style="color:#bf616a;">│</span><span>   ├── lang
</span><span style="color:#bf616a;">│</span><span>   └── views
</span><span style="color:#bf616a;">├──</span><span> routes
</span><span style="color:#bf616a;">│</span><span>   ├── api.php
</span><span style="color:#bf616a;">│</span><span>   ├── channels.php
</span><span style="color:#bf616a;">│</span><span>   ├── console.php
</span><span style="color:#bf616a;">│</span><span>   └── web.php
</span><span style="color:#bf616a;">├──</span><span> storage
</span><span style="color:#bf616a;">├──</span><span> vendor 
</span><span style="color:#bf616a;">└──</span><span> tests
</span></code></pre>
<p>Fark edebileceğiniz üzere DDD’de sadece <strong>namespace</strong> eklemekten başka bir
durum yok.</p>
<h1 id="sen-pala-vere-birak-sonuc-goster"><a class="no-style" href="#sen-pala-vere-birak-sonuc-goster" aria-label="Anchor link for: sen-pala-vere-birak-sonuc-goster">#</a>
Sen Pala Vere Bırak Sonuç Göster</h1>
<p>Sonuç yapıyı göstermek istersek şöyle bir yapı uygun olacaktır:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#96b5b4;">.
</span><span style="color:#bf616a;">├──</span><span> app
</span><span style="color:#bf616a;">│</span><span>   ├── Account
</span><span style="color:#bf616a;">│</span><span>   │   ├── AccessControlLists.php
</span><span style="color:#bf616a;">│</span><span>   │   ├── Auth.php
</span><span style="color:#bf616a;">│</span><span>   │   ├── Console
</span><span style="color:#bf616a;">│</span><span>   │   ├── Events
</span><span style="color:#bf616a;">│</span><span>   │   ├── Exceptions
</span><span style="color:#bf616a;">│</span><span>   │   ├── Jobs
</span><span style="color:#bf616a;">│</span><span>   │   ├── Listeners
</span><span style="color:#bf616a;">│</span><span>   │   ├── Models
</span><span style="color:#bf616a;">│</span><span>   │   ├── Repositories
</span><span style="color:#bf616a;">│</span><span>   │   └── Validators
</span><span style="color:#bf616a;">│</span><span>   ├── Gallery
</span><span style="color:#bf616a;">│</span><span>   ├── Http
</span><span style="color:#bf616a;">│</span><span>   │   ├── Controllers
</span><span style="color:#bf616a;">│</span><span>   │   └── Middleware
</span><span style="color:#bf616a;">│</span><span>   ├── Post
</span><span style="color:#bf616a;">│</span><span>   └── Providers
</span><span style="color:#bf616a;">├──</span><span> bootstrap
</span><span style="color:#bf616a;">│</span><span>   ├── app.php
</span><span style="color:#bf616a;">│</span><span>   └── cache
</span><span style="color:#bf616a;">├──</span><span> config
</span><span style="color:#bf616a;">├──</span><span> database
</span><span style="color:#bf616a;">│</span><span>   ├── factories
</span><span style="color:#bf616a;">│</span><span>   ├── migrations
</span><span style="color:#bf616a;">│</span><span>   └── seeds
</span><span style="color:#bf616a;">├──</span><span> public
</span><span style="color:#bf616a;">├──</span><span> resources
</span><span style="color:#bf616a;">│</span><span>   ├── assets
</span><span style="color:#bf616a;">│</span><span>   ├── lang
</span><span style="color:#bf616a;">│</span><span>   └── views
</span><span style="color:#bf616a;">├──</span><span> routes
</span><span style="color:#bf616a;">│</span><span>   ├── api.php
</span><span style="color:#bf616a;">│</span><span>   ├── channels.php
</span><span style="color:#bf616a;">│</span><span>   ├── console.php
</span><span style="color:#bf616a;">│</span><span>   └── web.php
</span><span style="color:#bf616a;">├──</span><span> storage
</span><span style="color:#bf616a;">├──</span><span> vendor 
</span><span style="color:#bf616a;">└──</span><span> tests
</span></code></pre>
<p>Elbette çok büyük ölçekte bir Laravel Uygulamasında bu yapı da yeterli
olmayacaktır.</p>
<p>Şimdi bir senaryo kuralım. Projemizde <strong>Authentication</strong> kısmı <em>mikroservis</em>
yapılması gerektiği ile ilgili bir karar alındı. Bu durumda bu yapıdaki bir
projede tek yapılması gereken <code>Account</code> (domain) dizininin mikroservis olarak
ayrılması. Komple bir değişiklik yapmaya gerek kalmadan sadece o modülü
mikroservis çok rahat yapabiliriz. Çünkü domain dışındaki diğer tüm sınıflar
<code>AccessControlLists</code> ve <code>Auth</code> sınıflarını biliyor ve kullanıyor. Bunları
tutmak yeterli olacaktır. Mikroservisi hazırladıktan sonra ana projemizdeki
dizin yapısı şu şekilde olacaktır:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#96b5b4;">.
</span><span style="color:#bf616a;">├──</span><span> app
</span><span style="color:#bf616a;">│</span><span>   ├── Account
</span><span style="color:#bf616a;">│</span><span>   │   ├── AccessControlLists.php
</span><span style="color:#bf616a;">│</span><span>   │   └── Auth.php
</span><span style="color:#bf616a;">│</span><span>   ├── Gallery
</span><span style="color:#bf616a;">│</span><span>   ├── Http
</span><span style="color:#bf616a;">│</span><span>   │   ├── Controllers
</span><span style="color:#bf616a;">│</span><span>   │   └── Middleware
</span><span style="color:#bf616a;">│</span><span>   ├── Post
</span><span style="color:#bf616a;">│</span><span>   └── Providers
</span><span style="color:#bf616a;">├──</span><span> bootstrap
</span><span style="color:#bf616a;">│</span><span>   ├── app.php
</span><span style="color:#bf616a;">│</span><span>   └── cache
</span><span style="color:#bf616a;">├──</span><span> config
</span><span style="color:#bf616a;">├──</span><span> database
</span><span style="color:#bf616a;">│</span><span>   ├── factories
</span><span style="color:#bf616a;">│</span><span>   ├── migrations
</span><span style="color:#bf616a;">│</span><span>   └── seeds
</span><span style="color:#bf616a;">├──</span><span> public
</span><span style="color:#bf616a;">├──</span><span> resources
</span><span style="color:#bf616a;">│</span><span>   ├── assets
</span><span style="color:#bf616a;">│</span><span>   ├── lang
</span><span style="color:#bf616a;">│</span><span>   └── views
</span><span style="color:#bf616a;">├──</span><span> routes
</span><span style="color:#bf616a;">│</span><span>   ├── api.php
</span><span style="color:#bf616a;">│</span><span>   ├── channels.php
</span><span style="color:#bf616a;">│</span><span>   ├── console.php
</span><span style="color:#bf616a;">│</span><span>   └── web.php
</span><span style="color:#bf616a;">├──</span><span> storage
</span><span style="color:#bf616a;">├──</span><span> vendor 
</span><span style="color:#bf616a;">└──</span><span> tests
</span></code></pre>
<p>Gördüğünüz gibi <strong>uygulama kodlarımız</strong> içerisinde bir değişiklik yapmadan
modül olarak ayırmış ve mikroservis haline getirmiş olduk. Buradaki
<code>AccessControlLists</code> ve <code>Auth</code> mikroservisimizle haberleşecektir.</p>
<p>Dikkat edilmesi gereken kısım ise, bu gibi senaryolara sahip olabileceğimiz
için <strong>Domain</strong> içerisindeki haberleşen <code>Service</code> sınıflarımızın temel veri
türlerini kullanması gerektiğidir. Örneğin, <code>array</code>, <code>string</code>, <code>int</code> ve
<code>boolean</code> gibi. Herhangi bir sınıf belirtmeniz ayırma işlemi sonucunda sorun
çıkartacaktır. Çünkü o sınıfı tanımıyor ve bilmiyor olacaktır.</p>
<h1 id="bitis"><a class="no-style" href="#bitis" aria-label="Anchor link for: bitis">#</a>
Bitiş</h1>
<p>Yazı içerisinde elbetteki yanlışlarım olmuş olabilir. Yazıyı düzenleyerek
hataları gidererek daha iyi bir makale haline getirebiliriz. Eklenmesini
istediğiniz kısımları da yine aynı şekilde düzenleyerek <strong>pull request</strong>
atabilirsiniz.</p>

</div>
<br>
<a href="https://github.com/erayaydin/zola-personal-blog/blob/main/content/blog&#x2F;2018-02-09-buyuk-olcekli-laravel-uygulamasi.md" class="button">Contribute to this post</a>
<hr>
<script src="https://utteranc.es/client.js"
        repo="erayaydin/zola-personal-blog"
        issue-term="pathname"
        label="💬"
        theme="preferred-color-scheme"
        crossorigin="anonymous"
        async>
</script>

      </main>
      <footer>
          <hr>
<div>
    <div>
        <p>Built with <a target="_blank" rel="noopener noreferrer" href="https://www.getzola.org">Zola</a>, theme inspired from <a target="_blank" rel="noopener noreferrer" href="https://github.com/Speyll/anemone">anemone</a>.</p>
    </div>

  <div>
    <a target="_blank" class="no-style" rel="noopener noreferrer" href="https://era.yayd.in/atom.xml" title="Subscribe via RSS for updates."><svg class="icons"><use href="https://era.yayd.in/icons.svg#rss"></use></svg></a>
  </div>

</div>

      </footer>
      
      <script src="https://era.yayd.in/app.js" defer></script>
      
</body>
</html>
